<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ topic_name }} - EduSpider</title>
    <style>
        body { font-family: Georgia, serif; max-width: 800px; margin: 40px auto; padding: 0 20px; color: #333; line-height: 1.6; }
        h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
        nav { margin-bottom: 30px; font-size: 0.9em; }
        nav a { margin-right: 15px; color: #555; }
        .page-card { border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 4px; }
        .page-card h3 { margin: 0 0 5px 0; }
        .page-card h3 a { text-decoration: none; color: #1a5276; }
        .page-card h3 a:hover { text-decoration: underline; }
        .page-card .domain { color: #888; font-size: 0.85em; }
        .page-card .desc { color: #555; font-size: 0.95em; margin-top: 8px; }
        .empty { color: #888; font-style: italic; }
    </style>
</head>
<body>
    <h1>{{ topic_name }}</h1>
    <nav>
        <a href="/">All Topics</a>
        <a href="/crawls">Crawl History</a>
    </nav>
    {% if pages %}
    {% for p in pages %}
    <div class="page-card">
        <h3><a href="{{ p.url }}" target="_blank">{{ p.title or p.url }}</a></h3>
        <span class="domain">{{ p.domain }}</span>
        {% if p.description %}
        <p class="desc">{{ p.description[:200] }}{% if p.description|length > 200 %}...{% endif %}</p>
        {% endif %}
    </div>
    {% endfor %}
    {% else %}
    <p class="empty">No pages found for this topic.</p>
    {% endif %}
</body>
</html>
